[{"content":"这篇是基于 Atlassian 教程 How to Store Dotfiles - A Bare Git Repository 的精简实践版。想深入理解细节，建议阅读原文。\n原文链接：https://www.atlassian.com/git/tutorials/dotfiles\nBare Git 是什么 bare git 可以简单理解为：\n只有 Git 元数据（类似 .git 目录内容） 没有实际工作区文件 用它管理 dotfiles 时，本质上是把：\nGit 数据库存放在一个独立目录（例如 ~/.cfg） 实际配置文件继续放在 $HOME 这样就实现了「Git 仓库」与「配置文件本体」分离。\nBash 下四步完成初始化 1 2 3 4 5 6 7 8 9 10 11 12 13 14 # 1) 在 $HOME 下创建名为 .cfg 的裸仓库 git init --bare $HOME/.cfg # 2) 创建 config 别名： # --git-dir 指向 Git 数据库 # --work-tree 指向真实工作区（$HOME） alias config=\u0026#39;/usr/bin/git --git-dir=$HOME/.cfg/ --work-tree=$HOME\u0026#39; # 3) 只对该仓库生效：不显示未跟踪文件 # 否则整个 $HOME 都会显示为未跟踪 config config --local status.showUntrackedFiles no # 4) 写入 .bashrc，确保每次 shell 启动都可用 echo \u0026#34;alias config=\u0026#39;/usr/bin/git --git-dir=$HOME/.cfg/ --work-tree=$HOME\u0026#39;\u0026#34; \u0026gt;\u0026gt; $HOME/.bashrc 如果你使用 fish，请将 alias 改为对应的 function 写法。\n之后怎么用 从这一步开始，把 config 当作 git 来使用：\n1 2 3 # 示例：跟踪一个配置文件并提交 config add ~/.bashrc config commit -m \u0026#34;chore(dotfiles): add config alias for bare repo\u0026#34; 你可以继续像普通 Git 仓库一样使用：config status、config log、config push。\n这样做的价值 不再需要「一个软件一个仓库」分散维护（kitty、fish、niri\u0026hellip;） 多机同步更统一，可按分支区分设备或场景 主动 add 文件，避免 add . 带来的误跟踪 缓存、自动生成文件、插件目录等内容不易误提交 降低对复杂 .gitignore 的依赖 一句话总结 核心思想只有一句：用一个裸 Git 仓库，以文件粒度管理你手动选择的 $HOME 配置文件。\n","date":"2026-02-25T00:00:00Z","image":"https://ocean-sudo.github.io/p/manage-dotfiles-with-bare-git/cover_hu_9e6bcf9cfe9a9448.jpg","permalink":"https://ocean-sudo.github.io/p/manage-dotfiles-with-bare-git/","title":"用 Bare Git 管理 Dotfiles（精简实战版）"}]